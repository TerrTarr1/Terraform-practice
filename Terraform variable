vim main.tf

  provider "aws" {                                  #이전 게시글에서는 bucket명에 직접 넣어줬지만 변수를 사용할꺼니 버킷명을 var.bucket_name으로 설정합니다.
  #  profile = "your profile"
    region = "ap-northeast-2"
  }

  resource "aws_s3_bucket" "this" {
    bucket = var.bucket_name
  }

  :wq


vim variable.tf

  variable "bucket_name" {          #variables.tf 파일에 main.tf에서 사용하기로 한 변수를 선언합니다. 변수가 선언되어 있어야 var.bucket_name을 사용할 수 있습니다.
                                    #type과 default value를 설정할 수 있습니다.
    type = string
  }
  
  :wq
  
  
vim terraform.tfvars
  bucket_name = "my-terraform-bucket-02"
  
  :wq

terraform init
terraform plan
terraform apply
terraform state list
